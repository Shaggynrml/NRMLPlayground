{% comment %}
    Renders a product card

    Accepts:
    - card_product: {Object} Product Liquid object (optional)
    - media_aspect_ratio: {String} Size of the product image card. Values are "square" and "portrait". Default is "square" (optional)
    - show_secondary_image: {Boolean} Show the secondary image on hover. Default: false (optional)
    - show_vendor: {Boolean} Show the product vendor. Default: false
    - show_rating: {Boolean} Show the product rating. Default: false
    - extend_height: {Boolean} Card height extends to available container space. Default: true (optional)
    - lazy_load: {Boolean} Image should be lazy loaded. Default: true (optional)
    - show_quick_add: {Boolean} Show the quick add button.
    - section_id: {String} The ID of the section that contains this card.

    Usage:
    {% render 'card-product', show_vendor: section.settings.show_vendor %}
{% endcomment %}
<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');


*{
  font-family: 'Poppins', sans-serif;
}

product-card-body{
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  background: #ffff;
}

.product-card-container{
  position: relative;
}

.product-card-container .card{
  position: relative;
  width: 320px;
  height: 450px;
  background:url("{{ 'marbleBackground.jpg' | asset_img_url: '1200x' }}");
  border-radius: 20px;
  overflow: hidden;
}

.product-card-container .card:before{
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background:url("{{ 'marbelBackground2.jpg' | asset_img_url: '600x' }}");
  clip-path: circle(150px at 80% 20%);
  transition: 0.5s ease-in-out;
}

.product-card-container .card:hover:before{
  clip-path: circle(300px at 80% -20%);
}

.product-card-container .card:after{
  content: "{{card_product.vendor }}";
  position: absolute;
  top: 60%;
  left: -5%;
  font-size: 6em;
  font-weight: 800;
  font-style: italic;
  color: rgba(0,0,0,0.25)
}

.product-card-container .card .imgBx{
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  z-index: 1;
  width: 100%;
  height: 220px;
  transition: 0.5s;
}

.product-card-container .card:hover .imgBx{
  top: 0%;
  transform: translateY(0%);
    
}

.product-card-container .card .imgBx img{
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 270px;
}

.product-card-container .card .contentBx{
  position: absolute;
  bottom: 0;
  width: 100%;
  height: 100px;
  text-align: center;
  transition: 1s;
  z-index: 2;
}

.product-card-container .card:hover .contentBx{
  height: 210px;
}

.product-card-container .card .contentBx h2{
  position: relative;
  font-weight: 600;
  padding-bottom: 5px;
  letter-spacing: 1px;
  color: #000;
  margin: 0;
}

.product-card-container .card .contentBx .size, .container .card .contentBx .color {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 8px 20px;
  transition: 0.5s;opacity: 0;
  visibility: hidden;
  padding-top: 0;
  padding-bottom: 0;
}

.product-card-container .card:hover .contentBx .size{
  opacity: 1;
  visibility: visible;
  transition-delay: 0.5s;
 
}

.product-card-container .card:hover .contentBx .color{
  opacity: 1;
  visibility: visible;
  transition-delay: 0.6s;
}

.product-card-container .card .contentBx .size h3, .container .card .contentBx .color h3{
  color: #fff;
  font-weight: 250;
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-right: 10px;
}

.product-card-container .card:hover .contentBx .size-buttons{
  opacity: 1;
  visibility: visible;
}
.size-buttons{
  width: 40px;
  height: 25px;
  text-align: center;
  line-height: 26px;
  font-size: 12px;
  display: inline-block;
  overflow:hidden;
  padding-top:2px;
  color: #111;
  background: #fff;
  margin:2px;
  transition: 0.5s;
  color: #111;
  border-radius: 4px;
  cursor: pointer;
  transition: 0.5s;opacity: 0;
  visibility: hidden;
  border-color: #fff;
  border-width: 0px;
}
.size{
  padding: 5px;
}
.size-buttons:hover{
 background:#778899;
}


.product-card-container .card .contentBx .size span:hover{
  background: #778899;
}


.product-card-container .card .contentBx .color span:nth-child(2){
  background: #9bdc28;
}

.product-card-container .card .contentBx .color span:nth-child(3){
  background: #03a9f4;
}

.product-card-container .card .contentBx .color span:nth-child(4){
  background: #e91e63;
}

.product-card-container .card .contentBx a{
  display: inline-block;
  padding: 10px 20px;
  background: #fff;
  border-radius: 4px;
  margin-top: 10px;
  text-decoration: none;
  font-weight: 600;
  color: #111;
  opacity: 0;
  transform: translateY(50px);
  transition: 0.5s;
  margin-top: 0;
}

.product-card-container .card:hover .contentBx a{
  opacity: 1;
  transform: translateY(0px);
  transition-delay: 0.75s;
  
}

</style>
{{ 'component-rating.css' | asset_url | stylesheet_tag }}

{%- if card_product and card_product != empty -%}
  {%- liquid
    assign ratio = 1
    if card_product.featured_media and media_aspect_ratio == 'portrait'
      assign ratio = 0.8
    elsif card_product.featured_media and media_aspect_ratio == 'adapt'
      assign ratio = card_product.featured_media.aspect_ratio
    endif
    if ratio == 0 or ratio == nil
      assign ratio = 1
    endif
  -%}
  {% comment %} <div class="card-wrapper underline-links-hover">
    <div class="card
      card--{{ settings.card_style }}
      {% if card_product.featured_media %} card--media{% else %} card--text{% endif %}
      {% if settings.card_style == 'card' %} color-{{ settings.card_color_scheme }} gradient{% endif %}
      {% if extend_height %} card--extend-height{% endif %}
      {% if card_product.featured_media == nil and settings.card_style == 'card' %} ratio{% endif %}"
      style="--ratio-percent: {{ 1 | divided_by: ratio | times: 100 }}%;"
    >
<div class="card__inner {% if settings.card_style == 'standard' %}color-{{ settings.card_color_scheme }} gradient{% endif %}{% if card_product.featured_media or settings.card_style == 'standard' %} ratio{% endif %}" style="--ratio-percent: {{ 1 | divided_by: ratio | times: 100 }}%;"> {% endcomment %}
<div class="product-card-container">
  <div class="card">
    <a  href="{{ card_product.url }}">
    <div class="imgBx" >
      {{ card_product.featured_image | img_url: '600x600' | img_tag: product.featured_image.alt }}
    </div>
    </a>
    <div class="contentBx">
      {% comment %} <h2>{{card_product.vendor}}</h2> {% endcomment %}
      <h2>{{card_product.title}}</h2>
      <h3>{{card_product.price | money}}<h3>
      <div class="size">
        {%for size in card_product.variants%}
        {% if size.available%}
        <form method="post" action="/cart/add">

          <input  type="hidden" name="id" value="{{ size.id }}" />

          <input class= "size-buttons" type="submit" value="{{size.title}}" />

        </form>
        {% comment %} <div class= "size-buttons">{{size.title}}</div>  {% endcomment %}
        {%endif%}
        {%endfor%}
      </div>
      <a class= "view-all-btn" href="{{ card_product.url }}">View Product</a>
    </div>
  </div>
{% comment %} </div>

    </div>
  </div> {% endcomment %}
{%- else -%}
  <div class="card-wrapper underline-links-hover">
    <div class="card
      card--{{ settings.card_style }}
      card--text
      {% if extend_height %} card--extend-height{% endif %}
      {% if settings.card_style == 'card' %} color-{{ settings.card_color_scheme }} gradient{% endif %}
      {% if card_product.featured_media == nil and settings.card_style == 'card' %} ratio{% endif %}"
      style="--ratio-percent: 100%;"
    >
      <div class="card__inner {% if settings.card_style == 'standard' %}color-{{ settings.card_color_scheme }} gradient{% endif %}{% if settings.card_style == 'standard' %} ratio{% endif %}" style="--ratio-percent: 100%;">
        <div class="card__content">
          <div class="card__information">
            <h3 class="card__heading">
              <a role="link" aria-disabled="true" class="full-unstyled-link">
                {{ 'onboarding.product_title' | t }}
              </a>
            </h3>
          </div>
        </div>
      </div>
      <div class="card__content">
        <div class="card__information">
          <h3 class="card__heading{% if settings.card_style == 'standard' %} h5{% endif %}">
            <a role="link" aria-disabled="true" class="full-unstyled-link">
              {{ 'onboarding.product_title' | t }}
            </a>
          </h3>
          <div class="card-information">
            {%- if show_vendor -%}
              <span class="visually-hidden">{{ 'accessibility.vendor' | t }}</span>
              <div class="caption-with-letter-spacing light">{{ 'products.product.vendor' | t }}</div>
            {%- endif -%}
            {% render 'price' %}
          </div>
        </div>
      </div>
    </div>
  </div>
{%- endif -%}
