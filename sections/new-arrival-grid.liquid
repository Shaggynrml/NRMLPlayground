<script>
    var windowSize = window.outerWidth;
    if (windowSize <=750) {
    {% assign rowSize = 2%}
    } else {
     {% assign rowSize = 4%}
    }
</script>
<style>
    .small-product-card{
    }
    .new-arrival-title{
        text-align:center;
        font-size: 5vw;
    }
    .new-arrival-grid-container{
        width: 100%;
        justify-content:center;
        align-items:center;
    }
    .new-arrival-grid-row{
        margin: 0px;
        padding: 1vw;
        text-align: center;
        grid-auto-flow: row;
        display:flex;
        width:100%;
        list-style-type:none;
        justify-content: center;
    }
    .new-arrival-grid-mobile-row{
        display:none;
    }
    @media screen and (max-width: 790px){
        .new-arrival-grid-mobile-row{
        margin: 0px;
        text-align: center;
        grid-auto-flow: row;
        display:flex;
        width:100%;
        list-style-type:none;
        justify-content: center;
        padding:0px;
        }
        .new-arrival-grid-row{
            display:none;
    }
    }
</style>

    <div class="new-arrival-title">
        {{section.settings.title}}
    </div>
    <div class = "new-arrival-grid-container">
        <ul class = "new-arrival-grid-row">
            {%for product in section.settings.collection.products limit:4 %}
                <li id= "item">
                    {%render 'secondary-card-product', card_product:product %}
                </li>
            {%endfor%}            
        </ul>
        <ul class = "new-arrival-grid-row">
            {%for product in section.settings.collection.products limit: 4 offset: continue %}
                <li id= "item" >
                    {%render 'secondary-card-product', card_product:product %}
                </li>
            {%endfor%}            
        </ul>
        <ul class = "new-arrival-grid-mobile-row">
            {%for product in section.settings.collection.products limit:2 %}
                <li id= "item">
                    {%render 'secondary-card-product', card_product:product %}
                </li>
            {%endfor%}            
        </ul>
        <ul class = "new-arrival-grid-mobile-row">
            {%for product in section.settings.collection.products limit: 2 offset: continue%}
                <li id= "item" >
                    {%render 'secondary-card-product', card_product:product %}
                </li>
            {%endfor%}            
        </ul>
    </div>
    <div class="center collection__view-all">
        <a href="{{ section.settings.collection.url }}"
          class="{% if section.settings.view_all_style == 'link' %}link underlined-link{% elsif section.settings.view_all_style == 'solid' %}button{% else %}button button--secondary{% endif %}"
          aria-label="{{ 'sections.featured_collection.view_all_label' | t: collection_name: section.settings.collection.title }}"
        >
          {{ 'sections.featured_collection.view_all' | t }}
        </a>
      </div>


{% schema %}
    {
        "name": "New Arrival Grid",
        "tag": "section",
        "class": "section-new-arrival-grid",
        "settings": [
            {
            "type": "collection",
            "id": "collection",
            "label": "collection"
            },
            {
            "type": "text",
            "id": "title",
            "default": "Featured collection",
            "label": "Title"
            }
        ],
        "presets": [
            {
            "name": "new-arrival-grid"
            }
        ]
    }
{% endschema %}